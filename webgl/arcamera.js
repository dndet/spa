var a0_0x1b4f83=a0_0x7e5c;(function(a,e){var t=a0_0x7e5c,r=a();while(1)try{var i=parseInt(t(350))/1+-parseInt(t(338))/2+-parseInt(t(292))/3*(-parseInt(t(326))/4)+-parseInt(t(325))/5+parseInt(t(344))/6+-parseInt(t(355))/7+-parseInt(t(360))/8*(-parseInt(t(252))/9);if(i===e)break;r["push"](r["shift"]())}catch(s){r["push"](r["shift"]())}})(a0_0x33cb,307716);var a0_0x31d0a4=function(){var a=!0;return function(e,t){var r=a?function(){var a=a0_0x7e5c;if(t){var r=t[a(288)](e,arguments);return t=null,r}}:function(){};return a=!1,r}}(),a0_0x15e38d=a0_0x31d0a4(this,(function(){var a=a0_0x7e5c;return a0_0x15e38d[a(249)]()[a(241)](a(329))["toString"]()[a(317)](a0_0x15e38d)[a(241)]("(((.+)+)+)+$")}));function a0_0x7e5c(a,e){var t=a0_0x33cb();return a0_0x7e5c=function(a,e){a-=241;var r=t[a];return r},a0_0x7e5c(a,e)}function a0_0x33cb(){var a=["setARCameraSettings","startWebcam","apply","zIndex","lastDetectTime","videoCapture","109929AuiZka","FRAMERATE","lFBnO","stop","setFramerate","absolute","display","top","none","now","RESIZE_DELAY","clearRect","height","onFinishedResizeCallbacks","createElement","forEach","EKHJe","appendChild","matches","unityInstance","SetFlippedMessage","videoCanvas","SetCameraFov","LANDSCAPE","onFinishedResize","constructor","lastUpdateTime","PORTRAIT","setFrameSize","onStartResizeCallbacks","updateUnityVideoTextureCallback","lastOrientation","pause","2953785ELYcrD","28xHdizG","kfkfa","cameraPaused","(((.+)+)+)+$","VIDEO","usingUnityVideoPlane","isCameraStarted","atan","resize","getVideoDims","fadeId","kUcnM","30276INvsei","position","parse","oHUUc","update","getBoundingClientRect","65094uAJvit","YWCof","tlOQI","FTjWl","SUBSCRIBED_TRACKERS","pauseCamera","449434UahUsz","resizeCanvas","kXqJD","YmPOF","setTransform","990822zcFvMH","drawImage","max","cQFQF","width","72jmGMSj","videoWidth","100%","-100","canvas","getCameraTexture","scaleX(-1)","true","SetOrientationMessage","search","push","(orientation: portrait)","innerHeight","resolve","videoHeight","ycwZv","toDataURL","toString","getTracks","play","338373SpYOOP","dQQFc","style","getContext","UNITY_VIDEOPLANE","log","unityCanvas","innerWidth","maxFrameSize","stopWebcam","setFlipped","reject","unityCanvas is null. Please call new ARCamera(unityCanvas, videoCapture) properly before starting the Webcam","video_ctx","arCamera","SendMessage","body","subscribeToWebcamUpdates","includes","opacity","min","matchMedia","akNIs","videoCapture canvas is null. Please call new ARCamera(unityCanvas, videoCapture) properly before starting the Webcam","keys","addEventListener","onStartResize","Resize","resizeWithDelay","ARCamera","FOV","200%","parentElement","capture_ctx"];return a0_0x33cb=function(){return a},a0_0x33cb()}a0_0x15e38d();class ARCamera{#a;["SUBSCRIBED_TRACKERS"];constructor(a,e){var t=a0_0x7e5c;this[t(258)]=a,this[t(313)]=e,this[t(265)]=this[t(313)]["getContext"]("2d"),this[t(256)]=!1,this[t(302)]=50,this[t(293)]=30,this["SUBSCRIBED_TRACKERS"]=[],this[t(260)]=300,this["videoCapture"]=document[t(306)]("canvas"),this[t(291)]["id"]=t(291),document[t(268)][t(309)](this[t(291)]),this[t(285)]=this[t(291)][t(255)]("2d"),this[t(291)][t(254)][t(339)]=t(297),this[t(291)]["style"][t(299)]=t(283),this[t(291)][t(254)][t(289)]=t(363),this[t(320)](this[t(260)]),this[t(331)]=!1,this[t(321)]=[],this[t(305)]=[],this[t(323)]=window[t(273)](t(243))["matches"]?t(319):"LANDSCAPE",window["addEventListener"](t(334),this[t(280)],!0)}[a0_0x1b4f83(262)](a){var e=a0_0x1b4f83;this[e(313)]["style"]["transform"]=a?e(366):"",window[e(311)]["SendMessage"](e(281),e(312),a?e(367):"false")}[a0_0x1b4f83(349)](){var a=a0_0x1b4f83;this[a(328)]=!0,this[a(330)][a(324)]()}["unpauseCamera"](){var a=a0_0x1b4f83;this[a(328)]=!1,this["VIDEO"]["play"]()}[a0_0x1b4f83(286)](a){var e=a0_0x1b4f83,t=JSON[e(340)](a);Object[e(276)](t)[e(307)]((a=>{var r=e;if("QbDjP"!==r(337))a in this&&this[a]!=t[a]&&(this[a]=t[a]);else{this[r(260)]=_0x20645f;var i=this[r(291)],s=this[r(330)];if(!s||s[r(361)]<=0||s[r(246)]<=0)return;const a=_0x1b40d3[r(272)](this[r(260)]/s["videoWidth"],this[r(260)]/s[r(246)]);i["width"]=a*s[r(361)],i[r(304)]=a*s[r(246)]}}))}async[a0_0x1b4f83(287)](a){var e=a0_0x1b4f83;this[e(330)]=a;try{if(await a[e(251)](),this["videoCapture"]){if(!this["unityCanvas"]){t=e(264);return Promise[e(263)](t)}}else{if("dQQFc"===e(253)){var t=e(275);return Promise[e(263)](t)}this[e(328)]=!0,this[e(330)][e(324)]()}return this[e(351)](),this[e(318)]=Date["now"](),this[e(290)]=Date[e(301)](),this["lastMatchTrackTime"]=Date[e(301)](),this.#a=setInterval(this.#e,1/this[e(293)]*1e3),this[e(332)]=!0,Promise[e(245)]()}catch(r){return e(353)===e(308)?void 0:Promise[e(263)](r)}}[a0_0x1b4f83(261)](){var a=a0_0x1b4f83;const e=this[a(330)]["srcObject"][a(250)]();e[a(307)]((e=>e[a(295)]())),this[a(330)]["srcObject"]=null,clearInterval(this.#a)}#e(){var a=a0_0x1b4f83;if(arCamera[a(328)]){if(a(352)===a(352))return;var e=a(275);return _0x38cd17["reject"](e)}if(arCamera[a(330)]){var t=arCamera[a(330)],r=arCamera[a(291)],i=arCamera[a(313)],s=r["width"]/t[a(361)],n=r[a(304)]/t[a(246)],h=Math[a(357)](s,n),o=(r["width"]-t[a(361)]*h)/2,d=(r[a(304)]-t[a(246)]*h)/2;if(arCamera[a(285)][a(303)](0,0,r[a(359)],r[a(304)]),arCamera[a(285)][a(354)](h,0,0,h,o,d),arCamera[a(285)][a(356)](arCamera[a(330)],0,0),!arCamera[a(256)]){i["width"]=window["innerWidth"],i[a(304)]=window[a(244)];var c=i[a(359)]/t[a(361)],v=i[a(304)]/t[a(246)],x=Math[a(357)](c,v),f=(i[a(359)]-t[a(361)]*x)/2,_=(i["height"]-t[a(246)]*x)/2;arCamera[a(265)][a(303)](0,0,i["width"],i[a(304)]),arCamera[a(265)]["setTransform"](x,0,0,x,f,_),arCamera["video_ctx"]["drawImage"](arCamera[a(330)],0,0)}arCamera[a(348)][a(307)]((e=>{var t=a;e[t(342)]()})),arCamera[a(322)]&&arCamera[a(322)]()}}[a0_0x1b4f83(269)](a,e){var t=a0_0x1b4f83;this[t(348)][t(270)](a)||this[t(348)][t(242)](a)}["setFrameSize"](a){var e=a0_0x1b4f83;this[e(260)]=a;var t=this[e(291)],r=this[e(330)];if(!r||r[e(361)]<=0||r[e(246)]<=0)return;const i=Math["min"](this["maxFrameSize"]/r[e(361)],this[e(260)]/r["videoHeight"]);t["width"]=i*r[e(361)],t["height"]=i*r[e(246)]}[a0_0x1b4f83(296)](a){var e=a0_0x1b4f83;this[e(293)]=a,clearInterval(this.#a),this.#a=setInterval(this.#e,1/this[e(293)]*1e3)}[a0_0x1b4f83(280)](a){var e=a0_0x1b4f83;if((null==a||a["target"]==window)&&arCamera["unityCanvas"][e(284)]&&arCamera[e(258)][e(284)]["style"]){var t=arCamera[e(302)];arCamera[e(348)][e(307)]((a=>{var t=e;t(347)===t(347)?a[t(278)]():(_0x1a441c[t(311)][t(267)]("ARCamera",t(368),_0x1ed6ef),this[t(323)]=_0x3de036)})),arCamera[e(258)][e(254)][e(271)]=0,arCamera[e(313)][e(254)][e(271)]=0,setTimeout((()=>{var a=e;if(a(345)!==a(345))return this[a(330)]["videoWidth"]+","+this[a(330)][a(246)];arCamera[a(351)]()}),t);var r=arCamera[e(258)][e(284)];setTimeout((()=>{var a=e;if(a(294)===a(358)){var t=_0x588137?function(){var e=a;if(_0x3ff99f){var t=_0x90f34f[e(288)](_0x50497a,arguments);return _0x58fa9a=null,t}}:function(){};return _0x134ac8=!1,t}r[a(254)][a(298)]=a(300)}),t+5),setTimeout((()=>{var a=e;if("tlOQI"!==a(346)){var t="unityCanvas is null. Please call new ARCamera(unityCanvas, videoCapture) properly before starting the Webcam";return _0x21d17e[a(263)](t)}r[a(254)]["display"]=""}),t+50),console[e(257)]("invoking finished_resize Callbacks - "+arCamera[e(305)]["length"]),setTimeout((()=>{var a=e;if("wmtlt"!==a(327)){arCamera[a(348)][a(307)]((e=>{var t=a;e[t(316)]()}));var t=500,r=10;arCamera["fadeId"]&&clearInterval(arCamera[a(336)]),arCamera["fadeId"]=setInterval((()=>{var e=a;if(e(274)!==e(274)){_0x2329d0[e(359)]=_0x357986[e(259)],_0x10a657[e(304)]=_0x3c9a55[e(244)];var i=_0x22b7f9[e(359)]/_0x5f0548[e(361)],s=_0x4d1714[e(304)]/_0xe86d37[e(246)],n=_0x241775[e(357)](i,s),h=(_0x5a89b8["width"]-_0xecbe29["videoWidth"]*n)/2,o=(_0x5746b4["height"]-_0x3362ba[e(246)]*n)/2;_0x1ec12b[e(265)][e(303)](0,0,_0x44be04[e(359)],_0x43e8a5[e(304)]),_0x4a69c9[e(265)][e(354)](n,0,0,n,h,o),_0x14cf42[e(265)]["drawImage"](_0x370d26["VIDEO"],0,0)}else{var d=parseFloat(arCamera["unityCanvas"][e(254)][e(271)]);d+=1/(t/r),d=Math[e(272)](d,1),arCamera[e(258)][e(254)][e(271)]=d,arCamera[e(313)][e(254)][e(271)]=d,d>=1&&clearInterval(arCamera[e(336)])}}),r)}}),t+100)}}[a0_0x1b4f83(351)](){var a=a0_0x1b4f83;window[a(266)]||(window["arCamera"]=this);var e=this[a(291)],t=this[a(330)];if(!(!e||!t||t["videoWidth"]<=0||t["videoHeight"]<=0)){window[a(259)],window[a(244)];this[a(320)](this[a(260)]),this[a(348)][a(307)]((t=>{var r=a;if(r(247)!==r(341))t["setCamDims"](e[r(359)],e[r(304)]);else{var i=_0x5444bf(_0x351778[r(258)][r(254)][r(271)]);i+=1/(_0x354f5b/_0x438142),i=_0xcec3f6[r(272)](i,1),_0x6454be[r(258)][r(254)][r(271)]=i,_0x22b9a9[r(313)]["style"][r(271)]=i,i>=1&&_0x5aa341(_0x5a6f26[r(336)])}})),this.#t(),window["unityInstance"]["SendMessage"](a(281),a(279),t["videoWidth"]+","+t[a(246)]);var r=window[a(273)]("(orientation: portrait)")[a(310)]?a(319):a(315);this[a(323)]!=r&&(window[a(311)][a(267)](a(281),a(368),r),this[a(323)]=r)}}#t(){var a=a0_0x1b4f83,e=this[a(258)],t=(this[a(291)],this[a(330)]);if(!(!t||t[a(361)]<=0||t[a(246)]<=0)){var r=window[a(259)]/window["innerHeight"],i=t[a(361)]/t[a(246)];e[a(254)][a(359)]=a(362),e[a(254)]["height"]=a(362);this[a(291)][a(343)](),window["innerWidth"],window[a(244)];var s=.5/Math[a(357)](i,r),n=1,h=2*Math[a(333)](s/n)*180/Math["PI"];this[a(282)]=h,window[a(311)]&&window[a(311)]["SendMessage"](a(281),a(314),h)}}[a0_0x1b4f83(365)](a){var e=a0_0x1b4f83,t=this[e(291)],r=t[e(248)](a);return r}[a0_0x1b4f83(335)](){var a=a0_0x1b4f83;return this[a(330)][a(361)]+","+this[a(330)]["videoHeight"]}}